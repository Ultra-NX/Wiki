

# Отправка payload

!!! предупреждение "Если вы здесь, чтобы проверить, не прошита ли ваша Switch"
    Убедитесь, что вы [перевели ваше устройство в режим RCM](entering_rcm.md) и загрузили Hekate. После этого, если ваша консоль **не** прошита, продолжите с раздела «Подготовка Hekate» внизу страницы.

Теперь, когда устройство находится в режиме RCM, нам нужно отправить ему полезную нагрузку. Методы в основном одинаковы, но немного различаются в зависимости от доступного оборудования.


&nbsp;

=== "Windows"

    #### **Что нужно:**

    - Последняя версия <a href="https://github.com/eliboa/TegraRcmGUI/releases" target="_blank">TegraRcmGUI</a> (либо MSI, либо zip)
    - Кабель USB-A к USB-C (или стандартный USB-C кабель, если ваш компьютер поддерживает USB-C)
    - Последняя версия <a href="https://github.com/CTCaer/hekate/releases/" target="_blank">Hekate</a>. Полезная нагрузка Hekate (`hekate_ctcaer_(version).bin`) находится внутри файла `hekate_ctcaer_(version).zip`.

    #### **Инструкция:**

    1. Установите и запустите TegraRcmGUI.
    2. Перейдите на вкладку `Settings`, затем нажмите `Install Driver` и следуйте инструкциям на экране.
        - Если у вас возникают проблемы при установке драйвера, следуйте разделу [установка драйвера с помощью Zadig](#driver-installation-with-zadig) ниже.
    3. Подключите вашу консоль в режиме RCM к ПК с помощью USB кабеля.
    4. Перейдите на вкладку `Payload` в TegraRcmGUI.
        - В левом нижнем углу должна отображаться информация о том, что ваша консоль обнаружена.
    5. Нажмите кнопку выбора файла рядом с `Inject payload`, найдите и выберите файл `hekate_ctcaer_X.X.X.bin`.
    6. Нажмите `Inject payload`, чтобы запустить выбранную полезную нагрузку.
        - Если полезная нагрузка была успешно вставлена, на вашей консоли должно появиться желтое сообщение "Update bootloader folder!", это будет исправлено вскоре.
    #### **Установка драйвера с помощью Zadig**

    Выполните эти шаги, если у вас возникают проблемы при установке драйвера с помощью TegraRcmGUI. Вам потребуется последняя версия <a href="https://zadig.akeo.ie" target="_blank">Zadig</a>.

    1. Запустите Zadig. В меню `Options` убедитесь, что включена опция `List All Devices`.
    2. Подключите вашу консоль в режиме RCM к ПК с помощью USB кабеля.
    3. В Zadig выберите "APX" в списке устройств.
    4. Выберите `libusbK (v3.1.0.0)` в списке драйверов.
    5. Нажмите `Install Driver` и дождитесь завершения установки.



=== "Linux"

    #### **Что нужно:**

    - Последняя версия [fusee-nano](https://github.com/DefenderOfHyrule/fusee-nano/releases) (также доступна в [AUR](https://aur.archlinux.org/packages/fusee-nano))
         - Если вы используете Arch Linux или производное дистрибутив, рекомендуется использовать пакет из AUR.
    - Кабель USB-A к USB-C (или стандартный USB-C кабель, если ваш компьютер поддерживает USB-C)
    - Последняя версия <a href="https://github.com/CTCaer/hekate/releases/" target="_blank">Hekate</a>. Полезная нагрузка Hekate (`hekate_ctcaer_(version).bin`) находится внутри файла `hekate_ctcaer_(version).zip`.

    #### **Инструкция:**

    1. Скачайте и запустите инжектор полезных нагрузок из вашего терминала. Вам нужно будет запускать инжектор от имени root, если только вы не следовали инструкциям по [инъекции на Linux без root](../../extras/adding_udev.md).
    2. Подключите вашу консоль в режиме RCM к ПК с помощью USB кабеля.
    3. Запустите fusee-nano с помощью: `./fusee-nano /path/to/hekate-ctcaer_X.X.X.bin`
        - Как уже упоминалось, если вы не следовали инструкциям по [инъекции на Linux без root](../../extras/adding_udev.md), для этого потребуется права root. Для большинства систем это делается с помощью `sudo`.
        - Если полезная нагрузка была успешно вставлена, на вашей консоли должно появиться желтое сообщение "Update bootloader folder!", это будет исправлено вскоре.



=== "Mac"

    #### **Что нужно:**

    - Последний выпуск [CrystalRCM](https://github.com/prayerie/CrystalRCM/releases) (файл `CrystalRCM.(version).dmg`)
    - Кабель USB-A на USB-C (или стандартный кабель USB-C, если ваш компьютер поддерживает USB-C)
    - Последний выпуск <a href="https://github.com/CTCaer/hekate/releases/" target="_blank">Hekate</a>. Пейлоад Hekate (`hekate_ctcaer_(version).bin`) находится внутри файла `hekate_ctcaer_(version).zip`.

    #### **Инструкция:**

    1. Скачайте последнюю версию CrystalRCM.
    2. Подключите свою консоль в режиме RCM к ПК с помощью USB-кабеля и убедитесь, что она также распознается в CrystalRCM.
    2. Смонтируйте файл `CrystalRCM.(version).dmg`, откройте смонтированный образ диска в Finder и скопируйте файл `CrystalRCM.app` из смонтированного образа диска в любое место на вашем Mac.
    3. Откройте приложение `CrystalRCM.app`, затем нажмите `Payload...` и выберите файл `hekate_ctcaer_X.X.X.bin`.
    4. После выбора нажмите `Push!`. Пейлоад должен быть успешно отправлен.
        - Если пейлоад был успешно отправлен, на консоли появится жёлтый текст с надписью "Update bootloader folder!", это будет исправлено в ближайшее время.



=== "Android"

    #### **Что нужно:**

    - Последний выпуск <a href="https://github.com/MenosGrante/Rekado/releases" target="_blank">Rekado</a>
    - Вам нужно будет включить "Неизвестные источники" в настройках устройства, чтобы установить это
    - Кабель USB-C
    - Если на вашем устройстве есть порт USB-C, можно использовать кабель C-C
    - Если на вашем устройстве только порт Micro USB, вам понадобится USB OTG адаптер и кабель USB A-C
    - Это **не будет работать** на каждом телефоне!
    - Последний выпуск <a href="https://github.com/CTCaer/hekate/releases/" target="_blank">Hekate</a>. Пейлоад Hekate (`hekate_ctcaer_(version).bin`) находится внутри файла `hekate_ctcaer_(version).zip`.

    #### **Инструкция:**

    1. Скопируйте файл hekate_ctcaer `.bin` из архива Hekate `.zip` в любое место на вашем телефоне.
        - Для этого можно использовать инструмент, такой как Amaze File Manager.
    2. Запустите Rekado на вашем телефоне.
    3. Перейдите в раздел `Payloads` (обозначается стрелкой вниз с чертой), затем нажмите кнопку `+` в правом нижнем углу.
    4. Найдите ваш файл hekate_ctcaer `.bin` и нажмите на него, чтобы добавить его в меню Rekado.
    5. **Необязательно, но рекомендуется**: Перейдите в настройки Rekado в правом верхнем углу и включите `Hide bundled`.
    6. Подключите вашу консоль в режиме RCM к телефону с помощью USB-кабеля.
    7. Если появится запрос, предоставьте Rekado доступ к консоли.
    8. Выберите файл `hekate_ctcaer_X.X.X.bin` в появившемся диалоговом окне.
        - Если пейлоад был успешно отправлен, на консоли появится жёлтый текст с надписью "Update bootloader folder!", это будет исправлено в ближайшее время.



=== "Chromebook"

    #### **Что нужно:**

    - Кабель USB-A на USB-C
    !!! warning "О порте USB-C"
        Если на вашем Chromebook есть порт USB-C, обратите внимание, что использование кабеля C-C не будет работать.

    #### **Инструкция:**

    1. Перейдите на сайт для инъекции [здесь](https://fusee.eiphax.tech/) и прокрутите страницу вниз.
    2. Откройте выпадающее меню и выберите `hekate_ctcaer_X_X_X` из списка.
    3. Подключите вашу консоль в режиме RCM к Chromebook с помощью USB-кабеля.
    4. Выберите "Deliver Payload". Появится всплывающее окно. Нажмите на опцию `APX`.
    5. Нажмите кнопку "Connect", и пейлоад будет отправлен.
        - Если пейлоад был успешно отправлен, на консоли появится жёлтый текст с надписью "Update bootloader folder!", это будет исправлено в ближайшее время.

    !!! danger "Если ничего не происходит после отправки пейлоада"
        Если экран вашей консоли остаётся чёрным после отправки Hekate (или любого другого пейлоада), возможно, пейлоад был повреждён или ваша консоль защищена. Если программа инъекции пейлоада показывает, что было отправлено ноль или 0x0000 байт, то консоль защищена. Это не одноразовый сбой и не подлежит обсуждению; она защищена. Рассмотрите альтернативный метод, не связанный с RCM.


-----

### **Подготовка Hekate**
Мы подготовим карту microSD для форматирования/разделения на разделы перед переходом к следующей странице. Извлечение карты microSD во время работы Hekate безопасно, поэтому выключать консоль не обязательно, а её оставление включенной сэкономит время, которое потратилось бы на повторную инъекцию пейлоада.

!!! danger "Следование этому руководству удалит все данные с вашей карты microSD!"
    Далее в руководстве вы будете форматировать и/или разделять на разделы вашу карту microSD. Это означает, что все данные на карте microSD будут потеряны. Сейчас подходящее время, чтобы сделать резервную копию *всех* данных в безопасное место (например, на ваш ПК или внешний диск), чтобы вы могли их восстановить позже. Вы можете сделать это, следуя инструкциям ниже.


-----

#### **Что нужно:**
- Последняя версия <a href="https://github.com/CTCaer/hekate/releases/" target ="_blank">Hekate</a>.
- Ваша карта microSD

#### **Инструкция:**
1. Не выключая консоль, извлеките карту microSD из Switch.
2. Вставьте карту microSD в ваш компьютер.
3. Скопируйте папку `Nintendo` (и любые другие важные данные) из корневого каталога карты microSD в безопасное место на вашем устройстве.
4. Извлеките содержимое архива Hekate `.zip` в любое место на вашем компьютере.
5. В извлечённой папке Hekate вы найдёте папку с названием `bootloader`.
6. Скопируйте папку `bootloader` в корневой каталог вашей карты microSD.
7. Вставьте карту microSD обратно в Switch.
8. Нажмите любую кнопку, чтобы продолжить и перейти в меню Hekate.
9. Используйте кнопки увеличения и уменьшения громкости для навигации в меню Hekate. Наведите курсор на 'reload' и нажмите кнопку питания, чтобы выбрать. Теперь на экране должно появиться графическое меню Hekate (Nyx), как на изображении ниже.

    ![Nyx](../all/img/nyx.bmp){ width="600" }

[Перейти к выбору вашей CFW среды :material-arrow-right:](../all/cfw_environment.md){ .md-button .md-button--primary }