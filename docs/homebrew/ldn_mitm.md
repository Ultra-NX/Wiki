### **Информация**

ldn_mitm — это [системный модуль](index.md#terminologies), который позволяет перенаправлять локальный беспроводной трафик ad-hoc сети консоли через сеть, к которой подключена ваша Switch. Это фактически обеспечивает функциональность "LAN" между консолями и эмуляторами, используя ldn_mitm. Официальный репозиторий ldn_mitm на Github можно найти [здесь](https://github.com/spacemeowx2/ldn_mitm).

#### Частые сценарии использования ldn_mitm:
- Может использоваться в сочетании с [lan-play](http://lan-play.com/install-switch)
- Может использоваться в сочетании с [XLink Kai](https://www.teamxlink.co.uk/wiki/Nintendo_Switch_XLink_Kai_Setup)
- Может использоваться в сочетании с реальными консолями Switch и эмуляторами


-----

#### Требования для установки:
- Архиватор, например, [7-Zip](https://www.7-zip.org/)
- Последняя версия [ldn_mitm](https://github.com/DefenderOfHyrule/ldn_mitm/releases) (файл `ldn_mitm.zip`)

#### Инструкция по установке:
1. Загрузитесь в Hekate и перейдите в `Tools` > `USB Tools` > `SD Card`, затем подключите Switch к ПК через USB.
2. Ваша карта microSD теперь должна быть доступна на ПК, откройте её.
3. Извлеките файлы из архива `.zip` в удобное место на вашем компьютере.
    - Если ваш архиватор позволяет, вы можете открыть файл `.zip` напрямую.
4. Скопируйте *содержимое* (извлечённого) архива `.zip` в корень вашей карты microSD.
    - **Дополнительно:** Для проверки правильности установки ldn_mitm, на карте памяти должен появиться каталог `4200000000000010` (ldn_mitm) в `sd:/atmosphere/contents`, а файл `ldnmitm_config.nro` должен находиться в `sd:/switch/ldnmitm_config`.
5. Загрузитесь в CFW.


-----

### **Основные инструкции по использованию**

Вы можете включить или отключить ldn_mitm, открыв Homebrew меню, запустив приложение для настройки ldn_mitm и нажав `Y`, чтобы переключить состояние ldn_mitm.

![ldn_mitm](img/ldn_mitm.jpg)


-----

### **Устранение неполадок**

#### **Моя система вылетает при загрузке после установки ldn_mitm!**

**Причина:** Если ваша система вылетает с ошибкой `std::abort (0xFFE)` и идентификатором приложения `4200000000000010`, это означает, что вы используете версию ldn_mitm, несовместимую с вашей версией Atmosphere. Необходимая версия Atmosphere указана на странице релиза каждой версии ldn_mitm.

&nbsp;

#### **ldn_mitm не работает!**

Если вы правильно следовали инструкциям по установке, проблема, скорее всего, связана с тем, что архивный бит установлен на одной или нескольких папках/файлах на вашей карте microSD. Это часто происходит, если файлы были скопированы на microSD с помощью Mac. Если вы столкнулись с этой проблемой, попробуйте использовать утилиту для исправления архивного бита через Hekate для всех файлов.

Это можно сделать, загрузившись в Hekate и выбрав `Tools` > `Arch bit • RCM Touch • Pkg1/2` > `Fix Archive Bit`.