# Установка Android

# Настройка Switchroot Android (Android 11) для Nintendo Switch

!!! warning "Вы разделили свою microSD карту?"
    Эта страница предполагает, что вы уже следовали нашему руководству по установке Atmosphère. Перед началом на вашей microSD карте должны быть настроены разделы для Android через Hekate.<br>
    Если вы этого не сделали, обратитесь к [этой странице](../user_guide/all/partitioning_sd_syscfw.md) для установки Android вместе с Atmosphère. Если вы не хотите использовать CFW Switch и хотите только Android, посмотрите [официальную документацию Switchroot](https://wiki.switchroot.org/wiki/android/11-r-setup-guide). <br>
    Если Android уже установлен, не следуйте этому руководству, так как ваша текущая версия android будет удалена.

!!! info "Ищете Android 10?"
    Неприятная ошибка с тактовой частотой на Android 11 вызывает снижение производительности для устройств Erista (v1) на Android 11. Установка Android 10 здесь не рассматривается, но существует [руководство](https://wiki.switchroot.org/wiki/android/10-q-setup-guide) на вики Switchroot. Тем не менее, Android 11 является поддерживаемой версией и использует более новые драйверы.

!!! info "Ищете Android 14?"
    Недавно был выпущен Android 14 для Switch. Вы можете следовать официальному [руководству LineageOS](https://wiki.lineageos.org/devices/nx_tab/) для установки Android 14.

    - **Примечание:** Разделение карты можно пропустить в руководстве LineageOS. Вы уже выполнили это в предыдущем руководстве и не нужно делать это снова.

Switch не имеет встроенного модуля связи, поэтому простая установка Android не предоставит доступ к мобильной сети. Это означает, что в отличие от большинства Android-устройств, вы не сможете совершать экстренные вызовы и вам всё равно нужно будет подключение к Wi-Fi для доступа в интернет. Тем не менее, вы сможете нативно запускать Android-программы и игры.

Данная страница также *не* описывает такие вещи, как рутирование и разгон; внешние ссылки на эти дополнения можно найти в разделе [Руководства для опытных пользователей](#power-user-guides) внизу страницы.

### **Требования:**
- Консоль Nintendo Switch, которая может запускать Hekate. <br>
- microSD карта *больше* 8 ГБ.
    - Пожалуйста, ознакомьтесь с [руководством по microSD картам от Switchroot](https://wiki.switchroot.org/wiki/sd-card-guide) перед покупкой!
- Качественный USB-A to USB-C кабель, способный передавать данные.
    - Кабели с USB-C to USB-C нестабильны, но это будет исправлено в следующем релизе.
- Компьютер.


### **Инструкции:**

#### Шаг 0: Подготовка

Если у вас есть официальные контроллеры Joy-Con, вы можете настроить авто-подключение, чтобы при отсоединении они автоматически подключались к консоли независимо от операционной системы. Чтобы это сделать, загрузитесь в HOS, убедитесь, что оба контроллера работают без док-станции (сопрягите их), затем перезагрузитесь в Hekate. Выберите `Nyx Options`, затем `Dump Joy-Con BT`. Вы должны увидеть сообщение "Found 2 out of 2 Joy-Con pairing data!".

!!! tip "У вас Switch Lite?"
    Вам всё равно нужно нажать кнопку дампа в Hekate — это сохранит данные калибровки джойстиков и IMU для использования в Android.

-----

#### Шаг 1: Скачивание файлов

Скачайте последнюю версию архива `.7z` с [официального сайта Switchroot](https://download.switchroot.org/android-11/) — выберите `nx-atv...` для Android TV (больше похож на консольный опыт) или `nx-tab...` для стандартного Android (опыт обычного планшета на Android). Оба варианта поддерживают работу с контроллерами и док-станцией, но только версия для таблета поддерживает полноценный сенсорный ввод.

!!! tip "Если вы предпочитаете [TWRP recovery](https://twrp.me/)..."
    ...вы можете скачать `twrp.img` из [папки extras](https://download.switchroot.org/android-11/extras/).

-----

#### Шаг 2: Подготовка microSD карты

!!! tip "Вы используете Switch V1 или V2 (стандартные модели)?"
    У этих моделей плохо спроектирован картридер microSD, и повторное извлечение/вставление карты может привести к её поломке. Пожалуйста, используйте Hekate SD UMS для переноса файлов вместо того, чтобы извлекать карту microSD из вашей консоли!

    - Это можно сделать, загрузив Hekate и перейдя в `Tools` > `USB Tools` > `SD Card`, затем подключите вашу Switch к ПК через USB.

Извлеките архив в корень microSD карты (раздел FAT32). Структура файлов на microSD карте должна выглядеть примерно так:


```
root
|- bootloader
|  |- ini
|  |  |- ...
|  |- payloads
|  |  |- ...
|  |- res
|  |  |- ...
|  |- sys
|  |  |- ...
|- Nintendo (if you use Horizon)
|  |- ...
|- switchroot
|  |- android
|  |  |- ...
|  |- install
|  |  |- ...
|- lineage-18.1-[date]-UNOFFICIAL-[device].zip
```

!!! tip "Если вы скачали TWRP..."
    ...вам нужно заменить файл `/switchroot/install/recovery.img` на `twrp.img`. Не нужно переименовывать файл, просто замените его.

-----

#### Шаг 3: Установка Android

Откройте менеджер разделов Hekate (находится в `Tools` > `Partition SD Card`) и выберите Flash Android в нижней части экрана. Все три образа должны быть найдены и успешно записаны. Выберите опцию перезагрузки в режим восстановления.

После загрузки в режим восстановления выберите `Factory Reset`, затем `Format Data`. Это *не удаляет ничего на карте*, а лишь подготавливает разделы данных для записи. Игнорируйте любые ошибки, которые могут появиться. Вернитесь в главное меню и выберите `Apply Update`, затем `Select from SWITCH SD`. Найдите и выберите архив `lineage-18.1...`, подождите, пока установка завершится.

!!! warning "Не удалось установить архив?"
    Возможно, ваша microSD карта неисправна... Проверьте информацию о microSD в Hekate и подумайте о покупке карты лучшего качества.

!!! tip "Если вы используете TWRP..."
    Удачи... TWRP предназначен для опытных пользователей, поддержка пользователей не предоставляется. TWRP предоставляется для пользователей, которым он необходим для специфических целей.

После завершения процесса перезагрузите систему, когда будет предложено — Android теперь установлен!

### **После установки**

#### Советы и рекомендации

- Если авто-сопряжение Joy-Con не сработало, попробуйте перезагрузить систему. Иногда при первом запуске это может не сработать.

- Для доступа к режиму восстановления/TWRP: удерживайте `VOL+` при запуске или перезагрузке.

- Для доступа к Hekate из Android: удерживайте `VOL-` при перезагрузке.

- Для перезагрузки в Android: удерживайте кнопку `Power` несколько секунд и выполните стандартную перезагрузку.

- Для возврата в Horizon OS (`OFW/CFW`): полностью выключите Switch, затем загрузитесь в желаемый режим.

#### Руководства для опытных пользователей

Чтобы узнать больше об использовании Switch Configuration App и разгоне, посмотрите раздел [Switch Configuration App](https://wiki.switchroot.org/wiki/android/11-r-setup-guide#switch-configuration-app). Также можно ознакомиться с [INI руководством](https://wiki.switchroot.org/wiki/android/11-r-ini-guide).

### **Нужна помощь?**

Присоединяйтесь к [Switchroot Discord серверу](https://discord.gg/N9PPYXjWMY).

-----

Эта страница была создана в сотрудничестве с `makinbacon21` на Discord. См. сворачиваемый раздел ниже для поддерживающих команду Switchroot.

??? note "Сотрудники проекта Switchroot (Android / Linux)"
    Если хотите, вы можете поддержать людей, которые сделали этот проект возможным, используя следующие ссылки.

    - makinbacon (разработчик Android)
    [https://paypal.me/makinbacon21](https://paypal.me/makinbacon21)

    - npjohnson (разработчик Android)
    [https://paypal.me/nolenjohnson](https://paypal.me/nolenjohnson)

    - CTCaer (разработчик Linux и низкоуровневых систем, поддержка Hekate)
    [https://www.patreon.com/ctcaer](https://www.patreon.com/ctcaer)

    - ave (инфраструктура и хостинг)
    [https://patreon.com/aveao](https://patreon.com/aveao)
