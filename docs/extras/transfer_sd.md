# Смена SD карт

Цель этой страницы — перенести содержимое с одной microSD карты на другую. Метод будет зависеть от того, используете ли вы emuMMC, основанный на разделе, на вашей microSD карте или нет.

Для создания резервной копии и восстановления emuMMC мы будем использовать [hekate](https://github.com/CTCaer/hekate/releases/), поэтому убедитесь, что у вас уже есть новейшие файлы Hekate на microSD карте.

#### **Инструкции:**

Сначала проверьте, используете ли вы emuMMC, основанный на файле или разделе:

1. Войдите в RCM и отправьте payload Hekate.
    - Если у вас модифицированная консоль, просто включите её с payload Hekate, переименованным в `payload.bin` в корне вашей microSD карты.
2. Нажмите на кнопку `emuMMC`.
3. В разделе `emuMMC Info & Selection` посмотрите текст рядом с `Type`.
    - Если у вас есть emuMMC, то это будет либо `SD Raw Partition`, либо `SD File`.

-----
### **Если вы используете emuMMC на основе файла или не используете его вообще:**

1. Войдите в RCM и отправьте payload Hekate.
    - Если у вас модифицированная консоль, просто включите её с payload Hekate, переименованным в `payload.bin` в корне вашей microSD карты.
2. Перейдите в `Tools` > `USB Tools` > `SD Card` и подключите Switch к ПК через USB.
3. Скопируйте содержимое вашей microSD карты на ПК.
4. Подключите новую microSD карту через картридер или аналогичное устройство.
5. Отформатируйте новую microSD карту в FAT32, если это ещё не сделано.
    - Для этого используйте [это руководство](https://wiki.hacks.guide/wiki/Formatting_an_SD_card).
6. Скопируйте файлы с вашего ПК или прямо с вашей старой microSD карты на новую microSD карту.
7. Безопасно извлеките устройство `UMS` через операционную систему вашего компьютера.


-----
### **Если вы используете emuMMC на основе раздела:**

!!! warning "Место для резервной копии"
    Вам нужно минимум 30 ГБ (или 60 ГБ, если у вас OLED Switch) свободного места, чтобы восстановить emuMMC!

1. Войдите в RCM и отправьте payload Hekate.
    - Если у вас модифицированная консоль, просто включите её с payload Hekate, переименованным в `payload.bin` в корне вашей SD карты.
2. В главном меню нажмите на `Tools`, затем `Backup eMMC` и установите `SD emuMMC Raw Partition` в нижней части экрана в положение `ON`.
3. Сделайте резервные копии как `SD emuMMC BOOT0 & BOOT1`, так и `SD emuMMC RAW GPP` (Примечание: создание резервной копии `SD emuMMC RAW GPP` может занять некоторое время).
4. После завершения обеих операций вернитесь в главное меню, перейдите в `Tools` > `USB Tools` > `SD Card` и подключите Switch к ПК через USB.
5. Если Windows попросит вас отформатировать диск, отклоните это и откройте доступный диск, содержащий содержимое вашей microSD карты.
6. Скопируйте содержимое вашей старой microSD карты на ПК.
7. Следуйте разделу `Подготовка Hekate` внизу [этой страницы](../user_guide/rcm/sending_payload.md) (только для пользователей с уязвимыми), чтобы подготовить вашу новую SD карту с файлами Hekate.
    - Если у вас модифицированная консоль, следуйте [этой странице](../user_guide/modchip/preparing_hekate.md).
8. Следуйте только шагам 1-3 на [этой странице](../user_guide/all/partitioning_sd.md), чтобы создать разделы для новой microSD карты для настройки emuMMC.
9. После завершения загрузитесь в Hekate и перейдите в `Tools` > `USB Tools` > `SD Card`, затем подключите Switch к ПК через USB.
10. Скопируйте резервную копию вашей старой microSD карты с ПК на вашу новую microSD карту.
11. Перейдите в `/backup/<некоторые символы>/emummc` на вашей microSD карте и переместите файлы `BOOT0`, `BOOT1` и `rawnand.bin.xx` в `/backup/<некоторые символы>/restore/emummc`.
12. Безопасно извлеките устройство `UMS` через операционную систему вашего компьютера.
13. Нажмите на `Tools`, затем `Restore eMMC`, и установите `SD emuMMC Raw Partition` в нижней части экрана в положение `ON`.
14. Восстановите резервную копию, нажав на оба варианта: `SD emuMMC BOOT0 & BOOT1` и `SD emuMMC RAW GPP` (Примечание: восстановление `SD emuMMC RAW GPP` может занять некоторое время).
    - Очень важно, чтобы для обоих этих пунктов опция `SD emuMMC Raw Partition` была включена, иначе вы измените sysMMC, а этого делать не нужно.
15. Ваш emuMMC теперь восстановлен на новой microSD карте, и вы сможете запустить его через `Launch` -> `Atmosphere` в Hekate.

